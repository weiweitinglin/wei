<!DOCTYPE html>
<html lang="en" style="background: #000000 !important; min-height: 100% !important;">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>星碼工廠 - 廷造星球</title>
  
  <!-- SEO 和社交分享 -->
  <meta property="og:title" content="星碼工廠 - TING造星球" />
  <meta property="og:description" content="快速產生各種QR碼，支援多種格式與自訂樣式" />
  <meta property="og:type" content="website" />
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&display=swap" rel="stylesheet">
  
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- AOS Animation -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <!-- Custom CSS -->
  <link href="../css/styles.css" rel="stylesheet" />
  <link href="../css/enhanced-styles.css" rel="stylesheet" />
  <link href="../css/galaxy-theme.css" rel="stylesheet" />
  <link href="../css/effects.css" rel="stylesheet" />
  <link href="../css/fix-sizes.css" rel="stylesheet" />
  <link href="../css/qr-generator.css" rel="stylesheet" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="../assets/favicon.ico">
</head>

<body id="page-top" class="overflow-x-hidden" style="background: radial-gradient(ellipse at center, #1a1f3a 0%, #0f1527 50%, #000000 100%) !important; background-attachment: fixed !important; min-height: 100vh !important;">
  <!-- 星空背景效果 -->
  <div class="stars-background">
    <div class="stars-layer stars-layer-1"></div>
    <div class="stars-layer stars-layer-2"></div>
    <div class="stars-layer stars-layer-3"></div>
  </div>
  
  <!-- 粒子效果容器 -->
  <div id="particles-js"></div>
  
  <!-- 回到頂部按鈕 -->
  <div class="back-to-top">
    <button id="backToTop" class="back-to-top-btn" aria-label="回到頂部">
      <i class="fas fa-rocket"></i>
    </button>
  </div>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav" data-aos="fade-down">
    <div class="container px-4 px-lg-5">
      <!-- 品牌logo -->
      <a class="navbar-brand d-flex align-items-center" href="../index.html">
        <span class="brand-icon me-2">
          <div class="planet-ring"></div>
          <div class="planet">
            <div class="planet-core"></div>
            <div class="planet-atmosphere"></div>
          </div>
          <div class="orbit-1"></div>
          <div class="orbit-2"></div>
        </span>
        <span class="brand-text">
          <span class="brand-main">TING造星球</span>
          <span class="brand-sub">星碼工廠</span>
        </span>
      </a>
      
      <!-- 漢堡選單按鈕 -->
      <button class="navbar-toggler modern-toggler" type="button" data-bs-toggle="collapse" 
              data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" 
              aria-expanded="false" aria-label="Toggle navigation">
        <span class="toggler-line"></span>
        <span class="toggler-line"></span>
        <span class="toggler-line"></span>
      </button>
      
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="javascript:void(0)" onclick="goToHomePage()">
              <i class="fas fa-home me-1"></i>返回首頁
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../index.html#about">
              <i class="fas fa-planet-moon me-1"></i>星球簡介
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../index.html#projects">
              <i class="fas fa-tools me-1"></i>地表資源
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="overtime_calculator.html">
              <i class="fas fa-clock me-1"></i>星際血汗
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="QR code.html">
              <i class="fas fa-qrcode me-1"></i>星碼工廠
            </a>
          </li>
          <!-- 改進的下拉選單 -->
          <li class="nav-item dropdown modern-dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="toolsDropdown" role="button" 
               data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fas fa-satellite me-1"></i>小工具衛星
            </a>
            <ul class="dropdown-menu modern-dropdown-menu" aria-labelledby="toolsDropdown">
              <li>
                <a class="dropdown-item" href="flooring_calculator.html">
                  <i class="fas fa-calculator me-2"></i>地板拼接計算器
                </a>
              </li>
              <li>
                <a class="dropdown-item" href="flooring_number of square meters.html">
                  <i class="fas fa-ruler-combined me-2"></i>坪數計算器
                </a>
              </li>
              <li><hr class="dropdown-divider"></li>
              <li>
                <a class="dropdown-item coming-soon" href="#" onclick="return false;">
                  <i class="fas fa-magic me-2"></i>更多工具即將推出...
                </a>
              </li>
            </ul>
          </li>
        </ul>
        
        <!-- 主題切換按鈕 -->
        <div class="navbar-theme-toggle ms-3">
          <button id="themeToggle" class="theme-btn" aria-label="切換主題">
            <i class="fas fa-moon"></i>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero-section tool-hero" id="hero">
    <div class="hero-content" data-aos="fade-up" data-aos-delay="300">
      <div class="container">
        <div class="row justify-content-center text-center">
          <div class="col-lg-8">
            <div class="hero-text">
              <h1 class="hero-title" data-aos="fade-up" data-aos-delay="500">
                <span class="title-accent">星碼工廠</span>
              </h1>
              <h2 class="hero-subtitle" data-aos="fade-up" data-aos-delay="700">
                跨銀河通訊協議
              </h2>
              <p class="hero-description" data-aos="fade-up" data-aos-delay="900">
                用星際語言創造跨銀河的聯繫方式
              </p>
              <div class="hero-actions" data-aos="fade-up" data-aos-delay="1100">
                <a href="#generator" class="btn btn-primary btn-glow smooth-scroll">
                  <i class="fas fa-qrcode me-2"></i>開始創建
                </a>
                <button type="button" class="btn btn-outline-light" onclick="goToHomePage()">
                  <i class="fas fa-home me-2"></i>返回首頁
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- 向下滾動提示 -->
    <div class="scroll-indicator" data-aos="bounce" data-aos-delay="2000">
      <div class="scroll-mouse">
        <div class="scroll-wheel"></div>
      </div>
      <span class="scroll-text">向下開始創建</span>
    </div>
  </section>

  <!-- 產生QR code區域 -->
  <section id="generator" class="qr-generator-section py-5">
    <div class="container px-4 px-lg-5">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <!-- 工具卡片容器 -->
          <div class="tool-card card-enhanced" data-aos="fade-up">
            <div class="card-header text-center">
              <div class="tool-icon mb-3">
                <i class="fas fa-satellite-dish"></i>
              </div>
              <h2 class="section-title mb-0">
                <span class="title-accent">星際碼</span>
                <span class="title-main">創建儀</span>
              </h2>
              <p class="section-subtitle mt-2">請輸入通訊座標，並選擇是否上傳識別標誌</p>
            </div>
            
            <div class="card-body">
              <!-- 輸入與選項 -->
              <form class="qr-form" data-aos="fade-up" data-aos-delay="200">
                <div class="row g-4">
                  <!-- 輸入網址 -->
                  <div class="col-md-12">
                    <div class="form-group">
                      <label for="urlInput" class="form-label">
                        <i class="fas fa-link me-2"></i>輸入通訊坐標 (URL)
                      </label>
                      <div class="input-group">
                        <span class="input-group-text">
                          <i class="fas fa-globe"></i>
                        </span>
                        <input
                          type="text"
                          class="form-control"
                          id="urlInput"
                          placeholder="https://example.com"
                          required
                        />
                      </div>
                    </div>
                  </div>

                  <!-- Logo選項 -->
                  <div class="col-md-6">
                    <div class="form-group">
                      <div class="custom-checkbox">
                        <input
                          class="form-check-input"
                          type="checkbox"
                          value=""
                          id="includeLogo"
                        />
                        <label class="form-check-label" for="includeLogo">
                          <i class="fas fa-image me-2"></i>於星際碼中加入識別標誌
                        </label>
                      </div>
                    </div>
                  </div>

                  <!-- 上傳Logo檔案 -->
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="logoFile" class="form-label">
                        <i class="fas fa-upload me-2"></i>上傳識別標誌 (選填)
                      </label>
                      <input
                        class="form-control file-input"
                        type="file"
                        id="logoFile"
                        accept="image/*"
                        disabled
                      />
                    </div>
                  </div>

                  <!-- 產生按鈕 -->
                  <div class="col-12 text-center">
                    <button type="button" class="btn btn-primary btn-enhanced btn-lg" id="generateBtn">
                      <i class="fas fa-satellite-dish me-2"></i>
                      <span class="btn-text">生成星際碼</span>
                      <div class="btn-loading d-none">
                        <i class="fas fa-spinner fa-spin me-2"></i>正在生成...
                      </div>
                    </button>
                  </div>

                  <!-- QR Code 結果顯示區域 (整合在表單內) -->
                  <div class="col-12" id="qrResultSection" style="display: none;">
                    <hr class="my-4">
                    <div class="text-center">
                      <h5 class="mb-3">
                        <i class="fas fa-check-circle text-success me-2"></i>
                        星際通訊碼已生成
                      </h5>
                      <div class="qr-display-container mb-3">
                        <canvas
                          id="qrcodeResult"
                          class="qr-code-display"
                          style="display: none;"
                        ></canvas>
                      </div>
                      <div class="action-buttons">
                        <button class="btn btn-success btn-sm me-2" onclick="downloadQRCode()">
                          <i class="fas fa-download me-2"></i>下載圖片
                        </button>
                        <button class="btn btn-outline-secondary btn-sm" onclick="generateNew()">
                          <i class="fas fa-redo me-2"></i>重新生成
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer modern-footer">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-6 text-center mb-4" data-aos="fade-up">
          <div class="footer-brand">
            <div class="brand-icon-footer">
              <div class="planet-ring"></div>
              <div class="planet">
                <div class="planet-core"></div>
              </div>
            </div>
            <h5 class="footer-title">星碼工廠</h5>
            <p class="footer-desc">跨銀河通訊協議生成工具</p>
          </div>
        </div>
      </div>
      <hr class="footer-divider">
      <div class="row align-items-center">
        <div class="col-md-6">
          <p class="copyright mb-0">© 2025 廷造星球. All rights reserved.</p>
        </div>
        <div class="col-md-6 text-md-end">
          <div class="footer-social">
            <button class="btn btn-sm btn-outline-light" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
              <i class="fas fa-arrow-up"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Footer波浪效果 -->
    <div class="footer-waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
        <path fill="rgba(111, 155, 255, 0.1)" d="M0,32L48,80C96,128,192,224,288,224C384,224,480,128,576,90.7C672,53,768,75,864,96C960,117,1056,139,1152,149.3C1248,160,1344,160,1392,160L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
      </svg>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  
  <!-- QR Code Library - 確保在使用前載入 -->
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
  
  <!-- 備用 QR Code 庫載入 -->
  <script>
    // 測試 QRCode 庫載入
    console.log('Testing QRCode library...');
    
    function loadQRCodeBackup() {
      setTimeout(() => {
        if (typeof QRCode === 'undefined') {
          console.log('Loading backup QRCode library...');
          const script = document.createElement('script');
          script.src = 'https://unpkg.com/qrcode@1.5.3/build/qrcode.min.js';
          script.onload = function() {
            console.log('Backup QRCode library loaded');
            if (window.qrGenerator) {
              window.qrGenerator.setupGenerator();
            }
          };
          script.onerror = function() {
            console.error('Backup QRCode library also failed to load');
            // 嘗試第三個來源
            const script2 = document.createElement('script');
            script2.src = 'https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js';
            document.head.appendChild(script2);
          };
          document.head.appendChild(script);
        } else {
          console.log('QRCode library loaded successfully');
        }
      }, 100);
    }
    
    loadQRCodeBackup();
  </script>
  
  <script src="../js/dropdown-fix.js"></script>
  <script src="../js/scripts.js"></script>
  <script src="../js/enhanced-features.js"></script>
  <!-- Simple QR Code Generator (備用方案) -->
  <script src="../js/qrcode-simple.js"></script>
  <!-- QR Code Generator -->
  <script src="../js/qr-generator.js"></script>
</body>
</html>
