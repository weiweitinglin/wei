<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <!-- 修改 viewport meta 標籤 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>廷造星球</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New:wght@400;700&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="css/imagesloaded.css" rel="stylesheet" />
    <link href="css/styles.css" rel="stylesheet" />
    <link href="css/fix-sizes.css" rel="stylesheet" /> <!-- 新增的修復文件 -->
</head>
<body id="page-top">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
        <div class="container px-4 px-lg-5">
            <!-- 替換原有的 navbar-brand -->
            <a class="navbar-brand" href="#page-top">
                <span class="brand-icon">
                    <div class="planet-ring"></div>
                    <div class="planet"></div>
                </span>
                TING造星球
            </a>
            <!-- 確保漢堡選單按鈕屬性完整 -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#about">星球簡介</a></li>
                    <li class="nav-item"><a class="nav-link" href="#projects">地表資源</a></li>
                    <li class="nav-item"><a class="nav-link" href="/wei/html/overtime_calculator.html">星際血汗</a></li>
                    <li class="nav-item"><a class="nav-link" href="/wei/html/QR code.html">星碼工廠</a></li>
                    <!-- 修改下拉選單部分 -->
                    <li class="nav-item dropdown mobile-dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="toolsDropdown" role="button" 
                           data-bs-toggle="dropdown" aria-expanded="false" 
                           aria-haspopup="true">
                            小工具衛星
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="toolsDropdown">
                            <li><a class="dropdown-item" href="/wei/html/flooring_calculator.html">地板拼接計算器</a></li>
                            <li><a class="dropdown-item" href="/wei/html/flooring_number of square meters.html">坪數計算器</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Slider -->
    <div class="slider">
        <button class="slider--btn slider--btn__prev">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m15 18-6-6 6-6" />
            </svg>
        </button>

        <div class="slides__wrapper">
            <div class="slides">
                <!-- Slide 1 -->
                <div class="slide" data-current>
                    <div class="slide__inner">
                        <div class="slide--image__wrapper">
                            <img class="slide--image" src="assets/img/back.jpg" alt="廷造星球" />
                        </div>
                    </div>
                </div>
                
                <!-- Slide 2 -->
                <div class="slide" data-next>
                    <div class="slide__inner">
                        <div class="slide--image__wrapper">
                            <img class="slide--image" src="assets/img/back2.jpg" alt="地板系列" />
                        </div>
                    </div>
                </div>

                <!-- Slide 3 -->
                <div class="slide" data-next2>
                    <div class="slide__inner">
                        <div class="slide--image__wrapper">
                            <img class="slide--image" src="assets/img/back3.jpg" alt="地板系列" />
                        </div>
                    </div>
                </div>
            </div>

            <!-- 背景區塊 - 修改樣式以確保覆蓋整個視窗 -->
            <div class="slide__backgrounds">
                <div class="slide__bg" data-current></div>
                <div class="slide__bg" data-next></div>
                <div class="slide__bg" data-next2></div>
            </div>

            <div class="slides--infos">
                <!-- Slide Info 1 -->
                <div class="slide-info" data-current>
                    <div class="slide-info__inner">
                        <div class="slide-info--text__wrapper">
                            <div data-title class="slide-info--text">
                                <span>TING造星球</span>
                            </div>
                            <div data-subtitle class="slide-info--text">
                                <span>打造完美星球</span>
                            </div>
                            <div data-description class="slide-info--text">
                                <span>每一段程式，都是創造星球的一顆星</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide Info 2 -->
                <div class="slide-info" data-next>
                    <div class="slide-info__inner">
                        <div class="slide-info--text__wrapper">
                            <div data-title class="slide-info--text">
                                <span>用創意點亮宇宙</span>
                            </div>
                            <div data-subtitle class="slide-info--text">
                                <span>串起點子與靈感</span>
                            </div>
                            <div data-description class="slide-info--text">
                                <span>每一個工具，都是星空中的閃耀新星</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide Info 3 -->
                <div class="slide-info" data-next2>
                    <div class="slide-info__inner">
                        <div class="slide-info--text__wrapper">
                            <div data-title class="slide-info--text">
                                <span>程式編寫我的星系</span>
                            </div>
                            <div data-subtitle class="slide-info--text">
                                <span>編寫出屬於自己的星系</span>
                            </div>
                            <div data-description class="slide-info--text">
                                <span>每一次開發，都是探索未知的宇宙旅程</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <button class="slider--btn slider--btn__next">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m9 18 6-6-6-6" />
            </svg>
        </button>
    </div>

    <div class="loader">
        <span class="loader__text">0%</span>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p class="copyright">© 2025 廷造星球. All rights reserved.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/dropdown-fix.js"></script> <!-- 新增的修復檔案 -->
    <script type="module" src="js/imagesloaded.js"></script>
    <script src="js/scripts.js"></script>
    <script src="js/startrail.js"></script>
    <!-- 在頁面底部，其他腳本之後添加 -->
    <script>
        // 在頁面加載完成後等待一段時間再顯示導航欄
        document.addEventListener('DOMContentLoaded', function() {
            // 先確保導航欄在 CSS 中被隱藏
            document.getElementById('mainNav').style.opacity = '0';
            document.getElementById('mainNav').style.visibility = 'hidden';
            
            // 等待一段時間後顯示導航欄
            setTimeout(function() {
                document.getElementById('mainNav').style.opacity = '1';
                document.getElementById('mainNav').style.visibility = 'visible';
                document.getElementById('mainNav').style.transition = 'opacity 0.8s ease, visibility 0.8s ease';
            }, 2000); // 3秒後顯示，可以根據需要調整
        });

        // 立即執行的下拉選單修復
        document.addEventListener('DOMContentLoaded', function() {
            // 檢測是否為移動設備
            const isMobile = window.innerWidth <= 768;
            
            if (isMobile) {
                setTimeout(function() {
                    // 獲取下拉選單元素
                    const dropdownToggle = document.querySelector('#toolsDropdown');
                    const dropdownMenu = document.querySelector('.dropdown-menu');
                    
                    if (dropdownToggle && dropdownMenu) {
                        // 移除 Bootstrap 原生事件處理
                        dropdownToggle.removeAttribute('data-bs-toggle');
                        
                        // 清除原有的點擊事件處理器
                        const newDropdownToggle = dropdownToggle.cloneNode(true);
                        dropdownToggle.parentNode.replaceChild(newDropdownToggle, dropdownToggle);
                        
                        // 添加新的點擊事件處理器
                        newDropdownToggle.addEventListener('click', function(e) {
                            e.preventDefault();
                            e.stopPropagation();
                            
                            // 切換下拉選單顯示/隱藏
                            dropdownMenu.style.display = 
                                dropdownMenu.style.display === 'block' ? 'none' : 'block';
                        });
                        
                        // 添加樣式確保正確顯示
                        dropdownMenu.style.position = 'static';
                        dropdownMenu.style.width = '100%';
                        dropdownMenu.style.display = 'none';
                        
                        // 防止點擊選單項目時關閉選單
                        const dropdownItems = dropdownMenu.querySelectorAll('.dropdown-item');
                        dropdownItems.forEach(function(item) {
                            item.addEventListener('click', function(e) {
                                e.stopPropagation();
                            });
                        });
                        
                        // 點擊頁面其他區域時關閉選單
                        document.addEventListener('click', function(e) {
                            if (!e.target.closest('.dropdown')) {
                                dropdownMenu.style.display = 'none';
                            }
                        });
                        
                        console.log('手機版下拉選單修復已套用');
                    }
                }, 500); // 延遲確保DOM已經完全載入
            }
        });
    </script>
</body>
</html>